# æ¨¡å‹é€‰æ‹©æ›´æ–°è¯´æ˜

## âœ… å·²å®Œæˆçš„æ›´æ–°

### 1. **è‡ªåŠ¨é…ç½®è¯„ä¼°æ¨¡å‹ï¼ˆJudge Modelsï¼‰**

è¯„ä¼°æ¨¡å‹ç°åœ¨**è‡ªåŠ¨é…ç½®**ï¼Œç”¨æˆ·ä¸éœ€è¦é€‰æ‹©ï¼š

- âœ… `distilbert-base-uncased-finetuned-sst-2-english` - æ”»å‡»æˆåŠŸåˆ¤æ–­å™¨
- âœ… `unitary/toxic-bert` - æ¯’æ€§/NSFW åˆ¤æ–­å™¨  
- âœ… `sentence-transformers/all-MiniLM-L6-v2` - è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—

è¿™äº›æ¨¡å‹ä¼šè‡ªåŠ¨ä» `project/models/` åŠ è½½ï¼Œæ— éœ€ç”¨æˆ·å¹²é¢„ã€‚

### 2. **åªæ˜¾ç¤ºè¢«æ”»å‡»æ¨¡å‹ï¼ˆTarget Modelsï¼‰**

ç”¨æˆ·ç°åœ¨**åªèƒ½é€‰æ‹©è¢«æ”»å‡»çš„æ¨¡å‹**ï¼Œåˆ—è¡¨åªæ˜¾ç¤ºï¼š

- âœ… åœ¨ `project/models/` ä¸­å®é™…ä¸‹è½½çš„æ¨¡å‹
- âœ… è§’è‰²ä¸º `target` çš„æ¨¡å‹ï¼ˆä¸æ˜¯ judge æ¨¡å‹ï¼‰
- âœ… æ ¹æ®ç³»ç»Ÿèƒ½åŠ›ï¼ˆRAMã€GPUï¼‰è¿‡æ»¤çš„å…¼å®¹æ¨¡å‹

### 3. **æ ¹æ®å®é™…ä¸‹è½½çš„æ¨¡å‹æ˜¾ç¤º**

æ¨¡å‹é€‰æ‹©å™¨ç°åœ¨ï¼š

- âœ… æ‰«æ `project/models/` ç›®å½•
- âœ… åªæ˜¾ç¤ºå®é™…å­˜åœ¨çš„æ¨¡å‹
- âœ… è‡ªåŠ¨è¿‡æ»¤æ‰ judge æ¨¡å‹å’Œæ•°æ®é›†
- âœ… æŒ‰æ¨¡å‹å¤§å°æ’åºï¼ˆå°æ¨¡å‹ä¼˜å…ˆï¼Œé€‚åˆ CPUï¼‰

## ğŸ“‹ å½“å‰ project/models/ ä¸­çš„æ¨¡å‹

### è¢«æ”»å‡»æ¨¡å‹ï¼ˆç”¨æˆ·å¯é€‰æ‹©ï¼‰

æ ¹æ® `project/models/` ç›®å½•ï¼Œä»¥ä¸‹æ¨¡å‹å¯ç”¨äºæ”»å‡»æµ‹è¯•ï¼š

1. **EleutherAI/pythia-160m** (160M) - å°ä½†æœ‰èƒ½åŠ›
2. **Qwen/Qwen2.5-3B** (3B) - Qwen 2.5 ç³»åˆ—ä¸­ç­‰æ¨¡å‹
3. **deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B** (1.5B) - DeepSeek R1 è’¸é¦ç‰ˆ
4. **distilgpt2** (82M) - è’¸é¦ç‰ˆ GPT-2
5. **gpt2-medium** (345M) - ä¸­ç­‰ GPT-2 å˜ä½“
6. **HuggingFaceTB/SmolLM2-1.7B-Instruct** (1.7B) - ä¸­ç­‰å¤§å° SmolLM
7. **TinyLlama/TinyLlama-1.1B-Chat-v1.0** (1.1B) - LLaMA åŸºç¡€

### è¯„ä¼°æ¨¡å‹ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰

ä»¥ä¸‹æ¨¡å‹è‡ªåŠ¨é…ç½®ï¼Œç”¨æˆ·ä¸éœ€è¦é€‰æ‹©ï¼š

1. **distilbert-base-uncased-finetuned-sst-2-english** - æ”»å‡»æˆåŠŸåˆ¤æ–­
2. **unitary/toxic-bert** - æ¯’æ€§æ£€æµ‹
3. **sentence-transformers/all-MiniLM-L6-v2** - è¯­ä¹‰ç›¸ä¼¼åº¦

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### è¿è¡Œä¸»ç¨‹åº

```bash
python main.py
```

### æ¨¡å‹é€‰æ‹©æµç¨‹

1. **ç³»ç»Ÿæ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ RAMã€GPU ç­‰
2. **æ˜¾ç¤ºå¯ç”¨æ¨¡å‹** - åªæ˜¾ç¤º `project/models/` ä¸­ä¸‹è½½çš„è¢«æ”»å‡»æ¨¡å‹
3. **ç”¨æˆ·é€‰æ‹©** - é€‰æ‹©è¦æ”»å‡»çš„æ¨¡å‹ï¼ˆè¾“å…¥æ•°å­—æˆ–æŒ‰ Enter ä½¿ç”¨é»˜è®¤ï¼‰
4. **è‡ªåŠ¨é…ç½®** - è¯„ä¼°æ¨¡å‹è‡ªåŠ¨é…ç½®ï¼Œæ— éœ€ç”¨æˆ·æ“ä½œ

### ç¤ºä¾‹è¾“å‡º

```
======================================================================
  TARGET MODEL SELECTION
======================================================================
  Select the model to attack (victim model)
  ğŸ’¡ Judge models are automatically configured
     (distilbert, toxic-bert, sentence-transformers)
======================================================================

============================================================
  SYSTEM DETECTION
============================================================

  OS: Darwin
  RAM: 17.2 GB
  GPU: Not available
  âš  CPU only - recommend smaller models
============================================================


ğŸ¯ RECOMMENDED MODELS (Downloaded)
------------------------------------------------------------

  [1] Ultra-lightweight, good for baseline testing (135M) (smollm2-135m)
      ğŸŸ¢ Speed: Fast  |  â­ Difficulty: Easy
      ğŸ’¾ RAM: 2GB
      ğŸ“ Ultra-lightweight, good for baseline testing

  [2] Small but capable (160M) (EleutherAI--pythia-160m)
      ğŸŸ¢ Speed: Fast  |  â­ Difficulty: Easy
      ğŸ’¾ RAM: 2GB
      ğŸ“ Pythia series, good for interpretability

...

  Enter number (1-7) or press Enter for default
============================================================

  ğŸ’¡ Judge models are automatically configured
     (distilbert, toxic-bert, sentence-transformers)

  Your choice: 
```

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¿®æ”¹çš„æ–‡ä»¶

1. **`mira/utils/model_selector.py`**
   - æ–°å¢ `get_available_target_models()` å‡½æ•°
   - æ‰«æ `project/models/` ç›®å½•
   - è¿‡æ»¤ judge æ¨¡å‹å’Œæ•°æ®é›†
   - åªè¿”å› `role='target'` çš„æ¨¡å‹

2. **`main.py`**
   - æ›´æ–°æ¨¡å‹é€‰æ‹©æç¤º
   - æ˜ç¡®è¯´æ˜ judge æ¨¡å‹è‡ªåŠ¨é…ç½®
   - æ·»åŠ é€‰æ‹©è¯´æ˜

### æ¨¡å‹è¯†åˆ«é€»è¾‘

- ä» `MODEL_REGISTRY` åŒ¹é…æœ¬åœ°ç›®å½•å
- å¦‚æœä¸åœ¨ registry ä¸­ï¼Œå°è¯•ä»ç›®å½•åæ¨æ–­ï¼ˆå¦‚ `pythia-160m` â†’ `EleutherAI/pythia-160m`ï¼‰
- è¿‡æ»¤æ‰æ‰€æœ‰ judge æ¨¡å‹çš„å˜ä½“åç§°

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ¨¡å‹å¿…é¡»ä¸‹è½½** - åªæ˜¾ç¤º `project/models/` ä¸­å®é™…å­˜åœ¨çš„æ¨¡å‹
2. **Judge æ¨¡å‹è‡ªåŠ¨åŠ è½½** - å¦‚æœ judge æ¨¡å‹ä¸å­˜åœ¨ï¼Œä¼šå°è¯•ä» HuggingFace åŠ è½½
3. **å…¼å®¹æ€§æ£€æŸ¥** - æ ¹æ®ç³»ç»Ÿ RAM å’Œ GPU è‡ªåŠ¨è¿‡æ»¤ä¸å…¼å®¹çš„æ¨¡å‹
4. **é»˜è®¤é€‰æ‹©** - æŒ‰ Enter ä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªæ¨èçš„æ¨¡å‹

## ğŸ‰ ä¼˜åŠ¿

1. **ç®€åŒ–ç”¨æˆ·æ“ä½œ** - ç”¨æˆ·åªéœ€è¦é€‰æ‹©è¢«æ”»å‡»æ¨¡å‹
2. **è‡ªåŠ¨é…ç½®** - Judge æ¨¡å‹è‡ªåŠ¨é…ç½®ï¼Œå‡å°‘é…ç½®é”™è¯¯
3. **åŸºäºå®é™…æ–‡ä»¶** - åªæ˜¾ç¤ºå®é™…ä¸‹è½½çš„æ¨¡å‹ï¼Œé¿å…é€‰æ‹©ä¸å­˜åœ¨çš„æ¨¡å‹
4. **æ™ºèƒ½æ¨è** - æ ¹æ®ç³»ç»Ÿèƒ½åŠ›æ¨èåˆé€‚çš„æ¨¡å‹

